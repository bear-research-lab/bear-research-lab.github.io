---
layout: page
title: Publications
permalink: /publications/
---

<div id="pubs-page">

  <style>
    /* =======================
       Publications Section (scoped)
       ======================= */

    #pubs-page .container-md {
      max-width: 1800px;
      margin: 0 auto;
    }

    #pubs-page .filters {
      margin: 10px 0 18px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    #pubs-page .filters .mode,
    #pubs-page .filters .topics,
    #pubs-page .filters .types {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    #pubs-page .filters .pill {
      display: inline-block;
      padding: 6px 12px;
      border: 1px solid var(--pill-border, #d8d8d8);
      border-radius: 999px;
      background: var(--pill-bg, #fafafa);
      color: var(--pill-text, #333);
      text-decoration: none;
      font-size: 0.9rem;
      cursor: pointer;
      user-select: none;
    }

    #pubs-page .filters .pill.is-active {
      border-color: #007acc;
      box-shadow: 0 0 0 2px rgba(0, 122, 204, .12);
    }

    #pubs-page .filters .section-title {
      font-weight: 600;
      margin: 12px 12px 0 0;
    }

    #pubs-page .filters hr {
      width: 100%;
      margin: 8px 0;
    }

    #pubs-page .pub-year {
      margin: 18px 0 8px;
    }

    #pubs-page .hidden {
      display: none !important;
    }

    /* Toggle safety even without site CSS */
    #pubs-page .pub-bibtex[aria-hidden="true"],
    #pubs-page .pub-highlights[aria-hidden="true"],
    #pubs-page .pub-press[aria-hidden="true"],
    #pubs-page .pub-links[aria-hidden="true"] {
      display: none !important;
    }

    #pubs-page .pub-bibtex:not([aria-hidden="true"]),
    #pubs-page .pub-highlights:not([aria-hidden="true"]),
    #pubs-page .pub-press:not([aria-hidden="true"]),
    #pubs-page .pub-links:not([aria-hidden="true"]) {
      display: block;
    }
  </style>

  <p>
    You can also find publications on
    <a href="https://scholar.google.com/citations?user=KPQ53S0AAAAJ&hl=en">Google Scholar</a>.
  </p>

  {%- assign pubs = site.data.pubs -%}

  {%- if pubs and pubs.size > 0 -%}

  {%- comment -%} In-prep first {%- endcomment -%}
  {%- assign inprep = "" | split: "" -%}
  {%- for p in pubs -%}
  {%- if p.status == "in-prep" -%}
  {%- assign inprep = inprep | push: p -%}
  {%- endif -%}
  {%- endfor -%}

  {%- comment -%}
  Build unique years from items that are NOT in-prep and HAVE a non-empty year.
  Done without where_exp to avoid Liquid parser issues.
  {%- endcomment -%}
  {%- assign years = "" | split: "" -%}
  {%- for p in pubs -%}
  {%- if p.status != "in-prep" and p.year and p.year != "" -%}
  {%- unless years contains p.year -%}
  {%- assign years = years | push: p.year -%}
  {%- endunless -%}
  {%- endif -%}
  {%- endfor -%}
  {%- assign years = years | sort_natural | reverse -%}

  <!-- Filter bar -->
  <div class="filters" id="pub-filterbar">
    <div class="mode" role="group" aria-label="View mode">
      <span class="section-title">View:</span>
      <button class="pill js-mode is-active" data-mode="all">All</button>
      <button class="pill js-mode" data-mode="selected">Selected</button>
      <button class="pill js-mode" data-mode="by-date">By date</button>
      <button class="pill js-mode" data-mode="by-topic">By topic</button>
      <button class="pill js-mode" data-mode="by-type">By type</button>
    </div>

    <hr id="topic-sep" class="hidden">
    <hr id="type-sep" class="hidden">

    <div class="topics hidden" id="topic-pills" role="group" aria-label="Topics">
      <span class="section-title">Topics:</span>
      <button class="pill js-topic is-active" data-topic="__all__">All topics</button>
    </div>

    <div class="types hidden" id="type-pills" role="group" aria-label="Types">
      <span class="section-title">Type:</span>
      <button class="pill js-type is-active" data-type="__all__">All types</button>
      <button class="pill js-type" data-type="journal">Journal</button>
      <button class="pill js-type" data-type="conference">Inter. conference</button>
      <button class="pill js-type" data-type="others">Others</button>
    </div>
  </div>

  <!-- Publications root -->
  <div id="pubs-root">

    {%- if inprep.size > 0 -%}
    <h2 class="pub-year" data-year-title="In preparation">In preparation</h2>
    {%- for pub in inprep -%}
    {%- include pub-item.html pub=pub -%}
    {%- endfor -%}
    {%- endif -%}

    {%- for y in years -%}
    <h2 class="pub-year" data-year-title="{{ y }}">{{ y }}</h2>

    {%- comment -%} collect pubs for this year (excluding in-prep) {%- endcomment -%}
    {%- assign year_pubs = "" | split: "" -%}
    {%- for p in pubs -%}
    {%- if p.status != "in-prep" and p.year == y -%}
    {%- assign year_pubs = year_pubs | push: p -%}
    {%- endif -%}
    {%- endfor -%}

    {%- comment -%} split by month presence {%- endcomment -%}
    {%- assign with_month = "" | split: "" -%}
    {%- assign without_month = "" | split: "" -%}
    {%- for pub in year_pubs -%}
    {%- if pub.month and pub.month != "" -%}
    {%- assign with_month = with_month | push: pub -%}
    {%- else -%}
    {%- assign without_month = without_month | push: pub -%}
    {%- endif -%}
    {%- endfor -%}

    {%- assign with_month = with_month | sort: "month" | reverse -%}

    {%- for pub in with_month -%}
    {%- include pub-item.html pub=pub -%}
    {%- endfor -%}
    {%- for pub in without_month -%}
    {%- include pub-item.html pub=pub -%}
    {%- endfor -%}
    {%- endfor -%}
  </div>

  <script>
    (function () {
      const root = document.getElementById('pubs-root');
      if (!root) return;

      const items = Array.from(root.querySelectorAll('.pub-item'));
      const yearTitles = Array.from(root.querySelectorAll('[data-year-title]'));

      const topicWrap = document.getElementById('topic-pills');
      const topicSep = document.getElementById('topic-sep');
      const typeWrap = document.getElementById('type-pills');
      const typeSep = document.getElementById('type-sep');

      const topicSet = new Set();
      items.forEach(it => {
        const topics = (it.getAttribute('data-topics') || '')
          .split(',').map(s => s.trim()).filter(Boolean);
        topics.forEach(t => topicSet.add(t));
      });

      if (topicWrap) {
        topicSet.forEach(t => {
          const btn = document.createElement('button');
          btn.className = 'pill js-topic';
          btn.textContent = t;
          btn.dataset.topic = t;
          topicWrap.appendChild(btn);
        });
      }
      if (topicSet.size === 0) {
        topicWrap?.remove();
        topicSep?.remove();
      }

      let mode = 'all';
      let activeTopic = '__all__';
      let activeType = '__all__';

      function hasTopic(el, topic) {
        if (topic === '__all__') return true;
        const topics = (el.getAttribute('data-topics') || '').split(',').map(s => s.trim());
        return topics.includes(topic);
      }
      function hasType(el, type) {
        if (type === '__all__') return true;
        return (el.getAttribute('data-kind') || '').toLowerCase() === type.toLowerCase();
      }

      function applyFilters() {
        items.forEach(el => {
          const isSelected = (el.getAttribute('data-selected') === 'true' || el.getAttribute('data-selected') === 'True');
          const okMode = (
            mode === 'all' ||
            (mode === 'selected' && isSelected) ||
            mode === 'by-date' ||
            (mode === 'by-topic' && hasTopic(el, activeTopic)) ||
            mode === 'by-type'
          );
          const okTopic = (mode !== 'by-topic') ? true : hasTopic(el, activeTopic);
          const okType = (mode !== 'by-type') ? true : hasType(el, activeType);

          el.classList.toggle('hidden', !(okMode && okTopic && okType));
        });

        yearTitles.forEach(h2 => {
          const year = h2.getAttribute('data-year-title');
          const visibleInYear = items.some(el =>
            !el.classList.contains('hidden') && el.getAttribute('data-year') === year
          );
          if (year === 'In preparation') {
            const anyInPrepVisible = items.some(el =>
              !el.classList.contains('hidden') &&
              (el.getAttribute('data-year') === null || el.getAttribute('data-year') === '' || !el.hasAttribute('data-year'))
            );
            h2.classList.toggle('hidden', !anyInPrepVisible);
          } else {
            h2.classList.toggle('hidden', !visibleInYear);
          }
        });

        topicWrap?.classList.toggle('hidden', mode !== 'by-topic');
        topicSep?.classList.toggle('hidden', mode !== 'by-topic');
        typeWrap?.classList.toggle('hidden', mode !== 'by-type');
        typeSep?.classList.toggle('hidden', mode !== 'by-type');
      }

      function setActive(btns, current) {
        btns.forEach(b => b.classList.toggle('is-active', b === current));
      }

      const modeBtns = Array.from(document.querySelectorAll('.js-mode'));
      setActive(modeBtns, modeBtns.find(m => m.dataset.mode === mode));

      modeBtns.forEach(b => {
        b.addEventListener('click', () => {
          mode = b.dataset.mode;
          setActive(modeBtns, b);

          if (mode !== 'by-topic') {
            const tBtns = Array.from(document.querySelectorAll('.js-topic'));
            const allBtn = tBtns.find(x => x.dataset.topic === '__all__');
            if (allBtn) setActive(tBtns, allBtn);
            activeTopic = '__all__';
          }
          if (mode !== 'by-type') {
            const yBtns = Array.from(document.querySelectorAll('.js-type'));
            const allType = yBtns.find(x => x.dataset.type === '__all__');
            if (allType) setActive(yBtns, allType);
            activeType = '__all__';
          }
          applyFilters();
        });
      });

      topicWrap?.addEventListener('click', (e) => {
        const btn = e.target.closest('.js-topic');
        if (!btn) return;
        activeTopic = btn.dataset.topic;
        const tBtns = Array.from(document.querySelectorAll('.js-topic'));
        setActive(tBtns, btn);
        mode = 'by-topic';
        setActive(modeBtns, modeBtns.find(m => m.dataset.mode === 'by-topic'));
        applyFilters();
      });

      typeWrap?.addEventListener('click', (e) => {
        const btn = e.target.closest('.js-type');
        if (!btn) return;
        activeType = btn.dataset.type;
        const yBtns = Array.from(document.querySelectorAll('.js-type'));
        setActive(yBtns, btn);
        mode = 'by-type';
        setActive(modeBtns, modeBtns.find(m => m.dataset.mode === 'by-type'));
        applyFilters();
      });

      applyFilters();

      document.addEventListener('click', (e) => {
        const t = e.target;
        if (t.matches('.toggle-bibtex') || t.matches('.toggle-highlights') || t.matches('.toggle-press') || t.matches('.toggle-links')) {
          e.preventDefault();
          const id = t.getAttribute('data-target');
          const el = document.getElementById(id);
          if (el) {
            const isHidden = el.getAttribute('aria-hidden') === 'true';
            el.setAttribute('aria-hidden', isHidden ? 'false' : 'true');
          }
        }
      });
    })();
  </script>

  {%- else -%}
  <p>No publications available yet.</p>
  {%- endif -%}

</div><!-- end #pubs-page -->